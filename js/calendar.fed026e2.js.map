{"version":3,"sources":["webpack:///./frontend/components/Calendar/YearRow.vue","webpack:///./frontend/components/Calendar/YearRow.vue?31ff","webpack:///./frontend/views/Calendar.vue","webpack:///./frontend/views/Calendar.vue?1f23"],"names":["class","row","month","key","slug","to","year","calculateBackgroundColor","value","showMonths","props","Array","maxValue","Number","String","type","Boolean","default","methods","parseInt","this","Date","getFullYear","getMonth","thresholds","threshold","t","render","title","header","years","label","items","max-value","counters","breweries","countries","trips","cities","components","YearRow","PageHeader","setup","router","tableOrder","api","fetch","data","groups","reverse","reorder","column"],"mappings":"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","file":"js/calendar.fed026e2.js","sourcesContent":["<template>\n    <div class=\"flex flex-grow items-center justify-between px-1\">\n      <router-link v-for=\"month in row\" :key=\"month.slug\" :to=\"{ name: 'calendar.month', params: { year: year, month: month.slug } }\">\n        <div class=\"w-6 h-6 border text-xs flex items-center justify-center\" :class=\"calculateBackgroundColor(month.value, month.slug)\">\n          <span class=\"opacity-50\" v-if=\"month.value\">{{ month.value }}</span>\n        </div>\n        <div class=\"text-gray-500 text-xs text-center\" v-if=\"showMonths\">{{ month.slug }}</div>\n      </router-link>\n    </div>\n</template>\n\n<script>\nexport default {\n  props: {\n    row: Array,\n    maxValue: Number,\n    year: String,\n    showMonths: {\n      type: Boolean,\n      default: false\n    }\n  },\n  methods: {\n    calculateBackgroundColor (value, month) {\n      if (parseInt(this.year) >= new Date().getFullYear() && (parseInt(month) > new Date().getMonth() + 1)) {\n        return 'bg-white'\n      }\n\n      if (value === this.maxValue) {\n        return 'bg-gray-900 text-white'\n      }\n\n      const thresholds = [\n        { threshold: 0.85, class: 'bg-gray-800 text-white' },\n        { threshold: 0.66, class: 'bg-gray-700 text-white' },\n        { threshold: 0.5, class: 'bg-gray-600 text-white' },\n        { threshold: 0.33, class: 'bg-gray-500' },\n        { threshold: 0.15, class: 'bg-gray-400' }\n      ]\n\n      for (const t of thresholds) {\n        if (value >= this.maxValue * t.threshold) {\n          return t.class\n        }\n      }\n\n      if (value >= 1) {\n        return 'bg-gray-300'\n      }\n\n      return 'bg-gray-100'\n    }\n  }\n}\n</script>\n","import { render } from \"./YearRow.vue?vue&type=template&id=ddd586ae\"\nimport script from \"./YearRow.vue?vue&type=script&lang=js\"\nexport * from \"./YearRow.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/home/runner/work/browary/browary/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/exportHelper.js\"\nexport default /*#__PURE__*/exportComponent(script, [['render',render]])","<template>\n  <div class=\"calendar\">\n    <page-header title=\"Kalendarz\" header=\"Im ciemniej, tym więcej\"></page-header>\n\n    <div class=\"px-4\">\n      <div class=\"flex items-center justify-between p-1\" v-for=\"year in years\" :key=\"year.label\">\n        <router-link :to=\"{ name: 'calendar.year', params: { year: year.label } }\" class=\"pr-3 text-gray-500 text-xs\">\n          {{ year.label }}\n        </router-link>\n        <year-row :row=\"year.items\" :max-value=\"maxValue\" :year=\"year.label\"></year-row>\n      </div>\n    </div>\n\n    <hr class=\"my-4\">\n    <page-header title=\"Podsumowanie\" header=\"Zaliczone browary, państwa, wycieczki i miasta\"></page-header>\n\n    <div class=\"m-4\">\n      <table class=\"w-full text-xs leading-loose divide-y divide-gray-100 text-left\">\n        <thead>\n          <tr class=\"py-2\">\n            <th class=\"w-1/6\">rok</th>\n            <th class=\"w-1/6 font-normal\">browarów</th>\n            <th class=\"w-1/6 font-normal\">państw</th>\n            <th class=\"w-1/6 font-normal\">wycieczek</th>\n            <th class=\"w-1/6 font-normal\">miast</th>\n          </tr>\n        </thead>\n        <tbody class=\"divide-y divide-gray-100\">\n          <tr v-for=\"year in years\" :key=\"year.label\" class=\"odd:bg-gray-50\">\n            <td>\n              <router-link :to=\"{ name: 'calendar.year', params: { year: year.label } }\">\n                {{ year.label }}\n              </router-link>\n            </td>\n            <td>{{ year.counters.breweries }}</td>\n            <td>{{ year.counters.countries }}</td>\n            <td>{{ year.counters.trips }}</td>\n            <td>{{ year.counters.cities }}</td>\n          </tr>\n        </tbody>\n      </table>\n    </div>\n  </div>\n</template>\n\n<script>\nimport PageHeader from '../components/PageHeader'\nimport YearRow from '../components/Calendar/YearRow'\nimport { useRouter } from 'vue-router'\nimport { onMounted, ref } from 'vue'\nimport api from '../api'\n\nexport default {\n  components: { YearRow, PageHeader },\n  setup () {\n    const router = useRouter()\n\n    const maxValue = ref(0)\n    const years = ref([])\n    const tableOrder = ref('year')\n\n    onMounted(() => {\n      api.fetch(router, 'calendar', (data) => {\n        maxValue.value = data.maxValue\n        years.value = data.groups.reverse()\n      })\n    })\n\n    return {\n      years,\n      maxValue,\n      tableOrder\n    }\n  },\n  methods: {\n    reorder (column) {\n      this.tableOrder = column\n    }\n  }\n}\n</script>\n","import { render } from \"./Calendar.vue?vue&type=template&id=220641c4\"\nimport script from \"./Calendar.vue?vue&type=script&lang=js\"\nexport * from \"./Calendar.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/home/runner/work/browary/browary/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/exportHelper.js\"\nexport default /*#__PURE__*/exportComponent(script, [['render',render]])"],"sourceRoot":""}